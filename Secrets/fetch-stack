function MarketDemo() {
  const { connect, account } = useMetaAccount();
  const [balance, setBalance] = useState(null);

  useEffect(() => {
    async function fetchBalance() {
      if (!account?.address) return;
      try {
        const res = await fetch(`${process.env.MINTSCAN_API_URL}/cosmos/v1/account/${account.address}`, {
          headers: {
            Authorization: `Bearer ${MINTSCAN_API_KEY}`,
          },
        });
        const data = await res.json();
        
        // Example: Assume ATOM balance
        const atomBalance = data?.balances?.find(b => b.denom === "uatom");
        const formatted = atomBalance ? atomBalance.amount / 1_000_000 : 0;
        setBalance(formatted);

        // Trigger Tone + Haptic Feedback
        await playTone(432);
        Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Heavy);
      } catch (err) {
        console.error("Balance fetch failed", err);
      }
    }

    fetchBalance();
    const interval = setInterval(fetchBalance, 15000);
    return () => clearInterval(interval);
  }, [account]);

  if (!account) {
    return (
      <View style={styles.container}>
        <Button title="Login / Connect Wallet" onPress={() => connect()} />
      </View>
    );
  }

  return (
    <View style={styles.container}>
      <Text style={styles.text}>Connected: {account.address}</Text>
      <Text style={styles.price}>ATOM Balance: {balance}</Text>
      <Button title="Play Harmonic Tone" onPress={() => playTone(432)} />
      <Button
        title="Trigger Haptic"
        onPress={() => Haptics.notificationAsync(Haptics.NotificationFeedbackType.Success)}
      />
    </View>
  );
}
